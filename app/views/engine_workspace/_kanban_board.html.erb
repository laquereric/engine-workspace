<%
  proposed  = assertions.select { |a| a.proposed? }
  accepted  = assertions.select { |a| a.accepted? }
  completed = assertions.select { |a| a.rejected? || a.superseded? }
%>

<div class="grid grid-cols-3 gap-3 p-3">
  <%# Proposed column %>
  <div class="space-y-2">
    <h4 class="text-xs font-semibold text-gray-500 uppercase tracking-wider flex items-center gap-1.5">
      <span class="w-2 h-2 rounded-full bg-warning-500"></span>
      Proposed
      <% if proposed.any? %>
        <span class="text-xs text-gray-400">(<%= proposed.size %>)</span>
      <% end %>
    </h4>
    <% proposed.each do |assertion| %>
      <%= render "engine_workspace/kanban_card", assertion: assertion, dimmed: false %>
    <% end %>
    <% if proposed.empty? %>
      <p class="text-xs text-gray-300 italic py-4 text-center">No proposed tasks</p>
    <% end %>
  </div>

  <%# Accepted column %>
  <div class="space-y-2">
    <h4 class="text-xs font-semibold text-gray-500 uppercase tracking-wider flex items-center gap-1.5">
      <span class="w-2 h-2 rounded-full bg-primary-500"></span>
      Accepted
      <% if accepted.any? %>
        <span class="text-xs text-gray-400">(<%= accepted.size %>)</span>
      <% end %>
    </h4>
    <% accepted.each do |assertion| %>
      <%= render "engine_workspace/kanban_card", assertion: assertion, dimmed: false %>
    <% end %>
    <% if accepted.empty? %>
      <p class="text-xs text-gray-300 italic py-4 text-center">No accepted tasks</p>
    <% end %>
  </div>

  <%# Completed column %>
  <div class="space-y-2">
    <h4 class="text-xs font-semibold text-gray-500 uppercase tracking-wider flex items-center gap-1.5">
      <span class="w-2 h-2 rounded-full bg-success-500"></span>
      Completed
      <% if completed.any? %>
        <span class="text-xs text-gray-400">(<%= completed.size %>)</span>
      <% end %>
    </h4>
    <% completed.each do |assertion| %>
      <%= render "engine_workspace/kanban_card", assertion: assertion, dimmed: true %>
    <% end %>
    <% if completed.empty? %>
      <p class="text-xs text-gray-300 italic py-4 text-center">No completed tasks</p>
    <% end %>
  </div>
</div>
