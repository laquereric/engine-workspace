<div class="rounded-lg border border-gray-200 bg-white p-3 text-sm shadow-sm
            hover:shadow-md transition-shadow cursor-pointer
            <%= 'opacity-50' if dimmed %>"
     data-action="click->kanban#navigate"
     data-kanban-assertion-id="<%= assertion.id %>">
  <p class="font-medium text-gray-900 text-xs leading-snug"><%= assertion.title %></p>

  <div class="mt-2 flex items-center gap-1.5 flex-wrap">
    <% if assertion.authority %>
      <span class="inline-flex items-center text-[10px] font-medium px-1.5 py-0.5 rounded
                   <%= case assertion.authority.authority_type
                       when 'human' then 'bg-blue-50 text-blue-700'
                       when 'agent' then 'bg-purple-50 text-purple-700'
                       when 'system' then 'bg-gray-50 text-gray-600'
                       end %>">
        <%= assertion.authority.name %>
      </span>
    <% end %>

    <% if assertion.perspective %>
      <span class="inline-flex items-center text-[10px] text-gray-500 px-1.5 py-0.5 rounded bg-gray-50">
        <%= assertion.perspective.title %>
      </span>
    <% end %>

    <% if assertion.frames.any? %>
      <span class="inline-flex items-center text-[10px] text-gray-400">
        <%= assertion.frames.size %> frame<%= assertion.frames.size == 1 ? "" : "s" %>
      </span>
    <% end %>
  </div>
</div>
